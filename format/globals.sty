\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{rl_theory/globals}

\RequirePackage{soul}
\RequirePackage{mathtools}
\RequirePackage{amsmath}
\RequirePackage{amsfonts}
\RequirePackage{xcolor}
\RequirePackage{tikz}
\RequirePackage{calc}
\RequirePackage{xintexpr}
\RequirePackage{tcolorbox}
\RequirePackage{parskip}
\RequirePackage{fullpage}
\RequirePackage{suffix}
\RequirePackage[pdftex, pdfborderstyle={/S/U/W 0}]{hyperref}
\RequirePackage{catchfile}
\RequirePackage{xifthen}

\usetikzlibrary{calc}
\usetikzlibrary{external}
\tikzexternalize[prefix=_tikz/]

\ProcessOptions\relax

\def\P{{\rm Pr}}
\def\R{\mathbb R}
\def\E{\mathbb E}

\def\noteop #1 #2{\stackrel{\text{(#1)}}{#2}}
\def\edots#1#2#3{#1_{#2},\ldots,#1_{#3}}

\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

\definecolor{lightlightlightgray}{rgb}{0.95, 0.95, 0.95}
\definecolor{lightlightgray}{rgb}{0.80, 0.80, 0.80}
\definecolor{lightgray}{rgb}{0.70, 0.70, 0.70}
\definecolor{gray}{rgb}{0.50, 0.50, 0.50}
\definecolor{blue}{rgb}{0.56, 0.74, 0.86}
\definecolor{red}{rgb}{1, 0.51, 0.56}
\definecolor{green}{rgb}{0.53, 0.66, 0.42}

\def\todo{\hskip 0pt {\color{gray}[TODO]}}
\def\mtodo{\text{\todo}}

\def\sc{\setcounter}
\def\nc{\newcounter}
\def\hlg#1{\hlc[lightlightlightgray]{#1}}
\def\defl#1#2{\expandafter\gdef\csname #1\endcsname{#2}}
\def\getl#1{\csname #1\endcsname}

\def\runcmd#1{\immediate\write18{#1}}

\def\readcmd#1#2{%
  \CatchFileDef{#2}{|"#1"}{}%
  \edef#2{\expandafter\stripspace#2\next}
}%

\def\stripspace#1 \next{#1}
\readcmd{git rev-parse --show-toplevel}{\root}
\readcmd{pwd}{\curr}

\def\ifbool{\xintifboolexpr}
\def\defeq{\coloneqq}

\renewcommand{\labelitemi}{--}
\renewcommand{\labelitemii}{--}
\renewcommand{\labelitemiii}{--}
\renewcommand{\labelitemiv}{--}

\newcommand{\hlc}[2][yellow]{{%
  \colorlet{tempcolor}{#1}%
  \sethlcolor{tempcolor}\hl{#2}}%
}

\renewcommand\ln[4][]{\href{#2}{\lnfmt[#1]{#3}{#4}}}
\def\lng#1#2#3{
  \readcmd{python \root/scripts/relpath.py "\curr" "\root/#1"}{\relpath}
  \ln{\relpath}{#2}{#3}
}
\newcommand\lnfmt[3][]{%
  \ifthenelse{\equal{#1}{}}%
  {%
    $\color{blue}[$\color{black}#2$\color{blue}]_{\rm #3}$%
  }%
  {%
    $\color{blue}\left[\text{\color{black}#2}\color{blue}\right]_{\rm #3}$%
  }%
}
\newcommand\lnproof[3][]{\ln[#1]{proof/#2/#2.pdf}{#3}{P}}
\newcommand\lnnote[3][]{\ln[#1]{note/#2/#2.pdf}{#3}{N}}
\def\lngproof#1#2{\lng{#1}{#2}{P}}
